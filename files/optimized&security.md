## 性能优化&网站安全

### 你如何对网站的文件和资源进行优化？

期待的解决方案包括：
 文件合并
 文件最小化/文件压缩
 使用 CDN 托管
 缓存的使用（多个域名来提供缓存）
 其他

请说出三种减少页面加载时间的方法。
-----------------

1.优化图片 
2.图像格式的选择（GIF：提供的颜色较少, 可用在一些对颜色要求不高的地方）
3.优化CSS（压缩合并css, 如margin-top,margin-left...)
4.网址后加斜杠（如www.campr.com/目录, 会判断这个“目录是什么文件类型, 或者是目录。）
5.标明高度和宽度（如果浏览器没有找到这两个参数, 它需要一边下载图片一边计算大小, 如果图片很多, 浏览器需要不断地调整页面。这不但影响速度, 也影响浏览体验。当浏览器知道了高度和宽度参数后, 即使图片暂时无法显示, 页面上也会腾出图片的空位, 然后继续加载后面的内容。从而加载时间快了, 浏览体验也更好了。）
6.减少http请求（合并文件, 合并图片）。


### 你有哪些性能优化的方法？ 

（[详情请看雅虎14条性能优化原则][6]）。

（1） 减少http请求次数：CSS Sprites, JS、CSS源码压缩、图片大小控制合适；网页Gzip, CDN托管, data缓存 , 图片服务器。
（2） 前端模板 JS+数据, 减少由于HTML标签导致的带宽浪费, 前端用变量保存AJAX请求结果, 每次操作本地变量, 不用请求, 减少请求次数
（3） 用innerHTML代替DOM操作, 减少DOM操作次数, 优化javascript性能。
（4） 当需要设置的样式很多时设置className而不是直接操作style。
（5） 少用全局变量、缓存DOM节点查找的结果。减少IO读取操作。
（6） 避免使用CSS Expression（css表达式)又称Dynamic properties(动态属性)。
（7） 图片预加载, 将样式表放在顶部, 将脚本放在底部  加上时间戳。

### 前端安全问题？

（XSS, sql注入, CSRF）
CSRF：是跨站请求伪造, 很明显根据刚刚的解释, 他的核心也就是请求伪造, 通过伪造身份提交POST和GET请求来进行跨域的攻击。

**完成CSRF需要两个步骤：**

1.登陆受信任的网站A, 在本地生成COOKIE
2.在不登出A的情况下, 或者本地COOKIE没有过期的情况下, 访问危险网站B。

### grunt,  YUI compressor 和 google clojure用来进行代码压缩的用法。

YUI Compressor 是一个用来压缩 JS 和 CSS 文件的工具, 采用Java开发。

使用方法：
```
//压缩JS
java -jar yuicompressor-2.4.2.jar --type js --charset utf-8 -v src.js > packed.js
//压缩CSS
java -jar yuicompressor-2.4.2.jar --type css --charset utf-8 -v src.css > packed.css
```
详情请见：[你需要掌握的前端代码性能优化工具][10] 

### 网站重构的理解？

网站重构：在不改变外部行为的前提下, 简化结构、添加可读性, 而在网站前端保持一致的行为。也就是说是在不改变UI的情况下, 对网站进行优化, 在扩展的同时保持一致的UI。

对于传统的网站来说重构通常是：

表格(table)布局改为DIV+CSS
使网站前端兼容于现代浏览器(针对于不合规范的CSS、如对IE6有效的)
对于移动平台的优化
针对于SEO进行优化
深层次的网站重构应该考虑的方面

减少代码间的耦合
让代码保持弹性
严格按规范编写代码
设计可扩展的API
代替旧有的框架、语言(如VB)
增强用户体验
通常来说对于速度的优化也包含在重构中

压缩JS、CSS、image等前端资源(通常是由服务器来解决)
程序的性能优化(如数据读写)
采用CDN来加速资源加载
对于JS DOM的优化
HTTP服务器的文件缓存

### 页面重构怎么操作？

编写 CSS、让页面结构更合理化, 提升用户体验, 实现良好的页面效果和提升性能。